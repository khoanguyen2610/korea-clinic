<app-breadcrumb></app-breadcrumb>
<div class="menu-master">
	<h2 class="s-title">決裁経路確認</h2>
	<form autocomplete="off" #f="ngForm">
		<!-- SECTION FILTER -->
		<section class="g-filter clearfix">
			<div class="g-row clearfix">
	            <div class="field clearfix w50">
	                <label for="">様式 <span class="note">*</span></label>
	                <div class="input-medium input-select2">
	                    <ng-select
	                    	name="m_menu_id"
	                        [items]="menuOptions"
	                        [active]="filter.m_menu_id | selectobject: menuOptions"
	                        (selected)="onNgSelected($event, 'm_menu_id')"
                        	(removed)="onNgRemoved($event, 'm_menu_id')"
	                        (ngModel)="filter.m_menu_id"
	                        [ngModel]="filter.m_menu_id | selectobject: menuOptions"
	                        [allowClear]="true"
	                        placeholder="{{ 'SELECT_PLACEHOLDER' | translate }}"
	                        #m_menu_id
	                        required>
	                    </ng-select>
	                </div>
	            </div>
	            <div class="clearfix"></div>
	            <div class="field clearfix w100">
                    <label for="">部署区分</label>
                    <div class="g-radio">
                        <label class="radio-inline label-w120">
                            <input type="radio" name="concurrent_post_flag" (click)="filter.concurrent_post_flag = 0" [checked]="0 == filter.concurrent_post_flag"> 主部署
                            <div class="check"></div>
                        </label>
                        <label class="radio-inline label-w120">
                            <input type="radio" name="concurrent_post_flag" (click)="filter.concurrent_post_flag = 1" [checked]="1 == filter.concurrent_post_flag"> 兼任部署
                            <div class="check"></div>
                        </label>
                    </div>
                </div>
	            <div class="clearfix"></div>
	            <div class="field clearfix w50" *ngIf="filter.concurrent_post_flag == 1">
	                <label for="">兼任部署 <span class="note">*</span></label>
	                <div class="input-medium input-select2">
	                    <ng-select
	                    	name="m_department_id"
	                        [items]="concurrentUserDepartment"
	                        [active]="filter.m_department_id | selectobject: concurrentUserDepartment"
	                        (selected)="onNgSelected($event, 'm_department_id')"
                        	(removed)="onNgRemoved($event, 'm_department_id')"
	                        (ngModel)="filter.m_department_id"
	                        [ngModel]="filter.m_department_id | selectobject: concurrentUserDepartment"
	                        [allowClear]="true"
	                        placeholder="{{ 'SELECT_PLACEHOLDER' | translate }}"
	                        #m_department_id
	                        required>
	                    </ng-select>
	                </div>
	            </div>
	            <div class="clearfix"></div>
	            <div class="field clearfix w50">
	                <label for="">申請日</label>
	                <div class="g-date-from-to clearfix">
				        <div class="input-group">
				            <input type="text" name="enable_date" class="form-control daterange-single"
	                            [(ngModel)]="filter.enable_date"
	                            #enable_date
	                            (blur)="filter.enable_date = enable_date.value">
	                        <span class="input-group-addon"><i class="icon-calendar"></i></span>
				        </div>
				    </div>
	            </div>
	        </div>
		</section>
		<!-- END SECTION FILTER -->

		<!-- SECTION BUTTON -->
		<section class="g-button clearfix text-center">
			<button class="btn btn-style btn-search" type="button" [disabled]="!f.valid" (click)="onSearch()" id="btn_submit_form"><i class="fa fa-search"></i> 検索</button>
			<button class="btn btn-style btn-clear" type="button" (click)="onReset()"><i class="fa fa-eraser"></i> クリア</button>
			<a class="btn btn-style btn-back" [routerLink]="['/home']"><i class="fa fa-arrow-left"></i> 戻る</a>
		</section>
		<!-- END SECTION BUTTON -->
	</form>
	<h2 class="s-title">現在の決裁経路  {{ filter.enable_date | formatdate }}</h2>
	<!-- SECTION TABLE -->
	<section class="g-table">
		<div class="table-responsive">
			<table id="tbl-data" class="tbl-data table table-standard table-striped table-hover" width="100%" cellspacing="0">
				<thead>
					<tr>
						<th>No</th>
						<th>決裁経路区分</th>
						<th>権限</th>
						<th>社員名</th>
						<th>役職</th>
						<th>事業本部</th>
						<th>事業部</th>
						<th>部門</th>
					</tr>
				</thead>
				<tbody>
					<tr *ngIf="!dataRoutes || dataRoutes == 0">
						<td class="text-center" colspan="10">{{ 'EMPTY_TABLE' | translate }}</td>
					</tr>
					<tr *ngFor="let item of dataRoutes; let i = index">
						<td class="text-center">{{ i + 1 }}</td>
						<td class="text-center">{{ item.segment }}</td>
						<td>{{ item.authority_name }}</td>
						<td>{{ item.fullname }}</td>
						<td>{{ item.position_name }}</td>
						<td>{{ item.business_name }}</td>
						<td>{{ item.division_name }}</td>
						<td>{{ item.department_name }}</td>
					</tr>
				</tbody>
			</table>
		</div>
	</section>
</div>
<div class="space30"></div>