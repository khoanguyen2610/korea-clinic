<app-breadcrumb></app-breadcrumb>
<div class="proposal-create">
    <h2 class="s-title">日当・手当設定画面</h2>
    <form  #f="ngForm" (ngSubmit)="onSubmit(f)">
        <section class="clearfix">
            <div class="g-row clearfix">
                <div class="field clearfix w100">
                    <label for="">出張エリア <span class="note">*</span></label>
                    <div class="input-select2 clearfix">
                        <div class="input-select2-1" style="width: 150px; float: left;">
                            <ng-select
                                name="type"
                                [items]="tripAreaTypeOptions"
                                [active]="mTripArea.type | selectobject: tripAreaTypeOptions"
                                (selected)="onNgSelected($event, 'type')"
                                (removed)="onNgRemoved($event, 'type')"
                                (ngModel)="mTripArea.type"
                                [ngModel]="mTripArea.type | selectobject: tripAreaTypeOptions"
                                placeholder="{{ 'SELECT_PLACEHOLDER' | translate }}"
                                #type
                                required>
                            </ng-select>
                            <span *ngIf="type?.dirty && type?.errors?.required" class="error">{{ 'VALIDATE.required' | translate }}</span>
                        </div>
                        <div class="input-select2-2" style="width: calc(100% - 160px); float: right;">
                            <ng-select
                                name="m_trip_area_id"
                                [items]="tripAreaNameOptions"
                                [active]="Item.m_trip_area_id | selectobject: tripAreaNameOptions"
                                (selected)="onNgSelected($event, 'trip_area')"
                                (removed)="onNgRemoved($event, 'trip_area')"
                                (ngModel)="Item.m_trip_area_id"
                                [ngModel]="Item.m_trip_area_id | selectobject: tripAreaNameOptions"
                                placeholder="{{ 'SELECT_PLACEHOLDER' | translate }}"
                                #m_trip_area_id
                                required>
                            </ng-select>
                            <span *ngIf="m_trip_area_id?.dirty && m_trip_area_id?.errors?.required" class="error">{{ 'VALIDATE.required' | translate }}</span>
                        </div>
                    </div>
                </div>
                <div class="field clearfix w100">
                    <label for="">役職 <span class="note">*</span></label>
                    <div class="input-select2">
                        <ng-select
                            name="m_position_id"
                            [items]="positionNameOptions"
                            [active]="Item.m_position_id | selectobject: positionNameOptions"
                            (selected)="onNgSelected($event, 'position')"
                            (removed)="onNgRemoved($event, 'position')"
                            (ngModel)="Item.m_position_id"
                            [ngModel]="Item.m_position_id | selectobject: positionNameOptions"
                            placeholder="{{ 'SELECT_PLACEHOLDER' | translate }}"
                            #m_position_id
                            required>
                        </ng-select>
                        <span *ngIf="m_position_id?.dirty && m_position_id?.errors?.required" class="error">{{ 'VALIDATE.required' | translate }}</span>
                    </div>
                </div>
                <div class="field clearfix w100">
                    <label for="">日当 <span class="note">*</span></label>
                      <div>
                        <div class="input-filed">
                            <input type="text" name="perdiem" class="form-control format_number" [(ngModel)]="Item.perdiem" (ngModelChange)="Item.perdiem = $event" (keyup)="Item.perdiem = $event.target.value" #perdiem="ngModel" required>
                            <span *ngIf="perdiem?.dirty && perdiem?.errors?.required" class="error">{{ 'VALIDATE.required' | translate }}</span>
                        </div>
                    </div>
                </div>
                <div class="field clearfix w100">
                    <label for="">出張手当 <span class="note">*</span></label>
                      <div>
                        <div class="input-filed">
                            <input type="text" name="allowance" class="form-control" [(ngModel)]="Item.allowance"
                            (ngModelChange)="Item.allowance = $event" (keyup)="Item.allowance = $event.target.value" #allowance="ngModel" id="form_allowance"
                            required>
                            <span *ngIf="allowance?.dirty && allowance?.errors?.required" class="error">{{ 'VALIDATE.required' | translate }}</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <section class="g-button clearfix text-center">
            <button class="btn btn-style btn-save" [disabled]="!f.valid" type="submit"><i class="fa fa-save"></i> 追加/更新</button>
            <a class="btn btn-style btn-back" [routerLink]="['/system/trip-benefits']"><i class="fa fa-arrow-left"></i> 閉じる</a>
        </section>
    </form>
</div>
